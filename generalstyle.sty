\usepackage{xparse} % defining certain macros
\usepackage{microtype}  % better typography
\usepackage{amsmath, amssymb, amsthm, mathtools} % smath stuff
\usepackage{extarrows} % xlongrightarrow
\usepackage{enumitem} % better list type environments
\usepackage[capitalise,noabbrev]{cleveref}  % smarter referencing, load after hyperref


% prevents breaking inline math around binary or relationship symbols
\binoppenalty=\maxdimen
\relpenalty=\maxdimen


% settings for list like environments
\setlist[enumerate, 1]{leftmargin=*, align=left, label=\arabic*)}
\setlist[itemize, 1]{leftmargin=*}
\setlist[itemize, 2]{leftmargin=*, label={\textopenbullet}}


% redefine how counters are printed
\setcounter{secnumdepth}{2}
\renewcommand{\thesection}{Exercise \arabic{section}}
\renewcommand{\thesubsection}{(\roman{subsection})}


% define theorem like environments
\newcounter{everything}
\newtheorem{claim}[everything]{Claim}
\newtheorem{corollary}[everything]{Corollary}
\newtheorem{lemma}[everything]{Lemma}
\theoremstyle{definition}
\newtheorem{remark}[everything]{Remark}


% text shortcuts
\newcommand{\dash}[2]{#1\nobreakdash-#2}
\newcommand{\fd}{finite\nobreakdash-dimensional}
\newcommand{\lipcont}{Lipschitz\nobreakdash-con\-tin\-u\-ous}
\newcommand{\lipconst}{Lipschitz\nobreakdash-constant}
\newcommand{\weaklystar}{weakly\textsuperscript{\ast}}
\newcommand{\welldef}{well\nobreakdash-defined}


% math shortcuts
\newcommand{\del}{\partial}
\newcommand{\longto}{\longrightarrow}
\newcommand{\defined}{\coloneqq}
\newcommand{\defines}{\eqqcolon}
\newcommand{\nto}{\nrightarrow}
\newcommand{\one}{\mathbf{1}}
\newcommand{\wto}{\rightharpoonup}
\newcommand{\wxto}{\xrightharpoonup}
\newcommand{\wtostar}{\wxto{\ast}}


% differentials
\newcommand{\dd}[1]{\,\text{d}#1}


% important sets
\newcommand{\Natural}{\mathbb{N}}
\newcommand{\Integer}{\mathbb{Z}}
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Complex}{\mathbb{C}}
\newcommand{\Korper}{\mathbb{K}}


% space and set constructions
\newcommand{\ball}[2]{\operatorname{B}(#2,#1)}
\DeclareMathOperator{\bounded}{B}
\newcommand{\cball}[2]{\closure{\operatorname{B}}(#2,#1)}
\DeclareMathOperator{\cont}{C}
\DeclarePairedDelimiter{\gen}{\langle}{\rangle}
\newcommand{\Compact}{\mathcal{K}}
\newcommand{\Lin}{\mathcal{L}}
\DeclareMathOperator{\Lp}{L}
\newcommand{\Null}{\mathcal{N}}
\newcommand{\Range}{\mathcal{R}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\Wp}{W}


% functions
\DeclareMathOperator{\dist}{d}
\DeclareMathOperator{\Id}{Id}
\DeclareMathOperator{\sign}{sign}


% decorations
\DeclarePairedDelimiterXPP{\abs}[1]{{}}{\lvert}{\rvert}{}{#1}
\DeclarePairedDelimiter{\bil}{\langle}{\rangle}
\newcommand{\closure}{\overline}
\DeclarePairedDelimiterXPP{\norm}[1]{{}}{\lVert}{\rVert}{}{#1}
\newcommand{\vect}[1]{\begin{pmatrix} #1 \end{pmatrix}}


% custom macros with case distinctions
\NewDocumentCommand{\suchthat}{s}{
  \IfBooleanTF{#1}
    {\,\middle|\,}
    {\mathrel{|}}       
}
\NewDocumentCommand{\restrict}{smmO{}}{
  \IfBooleanTF{#1}
    {\left. {#2} \,\middle|_{#3}^{#4} \right.}
    {{#2}\,|_{#3}^{#4}}
}
